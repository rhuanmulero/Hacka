/* css/views.css */

/* --- DASHBOARD VIEW --- */
.stats-grid { 
    display: grid; 
    grid-template-columns: repeat(3, 1fr); 
    gap: 1.5rem; 
    margin-bottom: 2.5rem; 
}

.section-header { 
    display: flex; 
    justify-content: space-between; 
    margin-bottom: 1rem; 
    align-items: center; 
}
.link-view-all { 
    color: var(--primary); 
    text-decoration: none; 
    font-weight: 600; 
    font-size: 0.9rem; 
}

.event-row {
    background: var(--bg-surface); 
    padding: 1rem; 
    border-radius: 16px; 
    display: flex;
    align-items: center; 
    justify-content: space-between; 
    margin-bottom: 0.8rem;
    transition: 0.2s; 
    border: 1px solid transparent;
}
.event-row:hover { 
    border-color: var(--primary); 
    transform: translateX(5px); 
}

.date-badge {
    background: #F5F5F5; 
    padding: 0.5rem 0.8rem; 
    border-radius: 10px; 
    text-align: center; 
    margin-right: 1rem;
}
.date-badge span { display: block; font-weight: 800; font-size: 1.1rem; }
.date-badge small { font-size: 0.6rem; font-weight: 700; color: var(--text-sec); }

.event-info { flex: 1; }
.event-info h4 { font-size: 1rem; margin-bottom: 0.2rem; }
.tag { font-size: 0.75rem; background: #EEE; padding: 0.2rem 0.6rem; border-radius: 6px; color: #555; }

.event-status { 
    font-size: 0.85rem; font-weight: 600; 
    padding: 0.4rem 1rem; border-radius: 20px; 
    margin-right: 1rem; 
}
.status-active { background: #E3F2FD; color: #1565C0; }
.status-pending { background: #FFF3E0; color: #EF6C00; }

/* --- WIZARD VIEW --- */
#wizard-view {
    background: var(--bg-surface);
    /* Ocupa 100% da área de conteúdo se for injetado lá */
    width: 100%; 
    height: 100%;
    display: flex; 
    flex-direction: column;
}

.wizard-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 3rem; 
}

.progress-wrapper { text-align: right; }
.progress-bg { 
    width: 150px; height: 6px; 
    background: #EEE; 
    border-radius: 10px; 
    margin-top: 5px; 
}
.progress-fill { 
    width: 33%; height: 100%; 
    background: var(--primary); 
    border-radius: 10px; 
    transition: 0.3s; 
}

.wizard-content { flex: 1; max-width: 600px; margin: 0 auto; width: 100%; }
.options-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; }

.wizard-footer { 
    max-width: 600px; 
    margin: 0 auto; 
    width: 100%; 
    display: flex; 
    justify-content: space-between; 
    margin-top: 2rem; 
}

/* Animação dos Passos */
.step { display: none; animation: slideUp 0.4s ease; }
.step.active { display: block; }
@keyframes slideUp { 
    from { opacity: 0; transform: translateY(20px); } 
    to { opacity: 1; transform: translateY(0); } 
}

.success-box { 
    text-align: center; 
    background: #F0FDF4; 
    border: 1px solid #DCFCE7; 
    padding: 2rem; 
    border-radius: 16px; 
    margin-top: 2rem; 
}
.success-box .material-icons-round { font-size: 3rem; color: #22C55E; }
.full-width { width: 100%; justify-content: center; margin-top: 1rem; }

/* --- ESTILOS DA AGENDA (EVENTS.JS) --- */

.tabs {
    display: flex;
    gap: 1rem;
    background: #fff;
    padding: 0.3rem;
    border-radius: 50px;
    border: 1px solid #eee;
}

.tab-btn {
    padding: 0.5rem 1.5rem;
    border: none;
    background: transparent;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 600;
    color: var(--text-sec);
    transition: 0.3s;
}

.tab-btn.active {
    background: var(--text-main); /* Preto Suave */
    color: white;
}

.empty-state {
    text-align: center;
    padding: 3rem;
    color: var(--text-sec);
    font-style: italic;
}

/* --- DETALHES EXPANDIDOS (A ESTRATÉGIA) --- */
.event-details {
    padding: 1.5rem;
    background: #f8f9fa;
    border-top: 1px dashed #e0e0e0;
    animation: slideDown 0.3s ease;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Grid Responsivo */
    gap: 1.5rem;
}

@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

/* --- CARDS GERADOS PELA IA (HTML INJETADO) --- */
.strategy-card {
    background: white;
    border-radius: 12px;
    border: 1px solid #eee;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.03);
    height: 100%; /* Altura igual */
}

/* Cores dos Topos */
.strategy-card.pre-event .card-header { background: #E3F2FD; color: #1565C0; }
.strategy-card.during-event .card-header { background: #FFF3E0; color: #EF6C00; }
.strategy-card.post-event .card-header { background: #E8F5E9; color: #2E7D32; }

.card-header {
    padding: 1rem;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.9rem;
    letter-spacing: 0.5px;
}
.card-header h3 { font-size: 1rem; margin: 0; }

.card-content {
    padding: 1.5rem;
}

.card-content p {
    margin-bottom: 1rem;
    font-size: 0.95rem;
    color: #555;
}

.card-content ul {
    list-style: none;
    padding: 0;
}

.card-content li {
    position: relative;
    padding-left: 1.5rem;
    margin-bottom: 0.8rem;
    font-size: 0.9rem;
    line-height: 1.4;
    color: #333;
}

/* Bullets customizados */
.card-content li::before {
    content: '•';
    color: var(--primary);
    font-weight: bold;
    position: absolute;
    left: 0;
    font-size: 1.2rem;
    line-height: 1rem;
}

/* --- KANBAN BOARD --- */
.kanban-board {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 Colunas iguais */
    gap: 1.5rem;
    height: calc(100vh - 180px); /* Ocupa altura restante */
    overflow-x: auto;
}

.kanban-column {
    background: #f4f5f7;
    border-radius: 12px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    min-width: 280px;
}

/* Headers das Colunas */
.column-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    font-weight: 700;
    color: var(--text-sec);
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e0e0e0;
}
.header-todo { border-color: #ffb74d; }
.header-doing { border-color: #29b6f6; }
.header-done { border-color: #66bb6a; }

.count {
    background: #e0e0e0;
    padding: 0.1rem 0.6rem;
    border-radius: 12px;
    font-size: 0.8rem;
    color: var(--text-main);
}

/* Área onde solta os cards */
.column-body {
    flex: 1;
    overflow-y: auto;
    padding: 0.2rem;
}

/* O CARD */
/* Atualização do CSS do Kanban */
/* --- KANBAN RESTAURADO (DESIGN PREMIUM) --- */

.kanban-wrapper {
    overflow-x: auto;
    padding-bottom: 20px;
    height: calc(100vh - 160px);
}

.kanban-board {
    display: flex;
    gap: 1.5rem;
    height: 100%;
    align-items: flex-start; /* Impede que colunas vazias estiquem até o chão */
}

/* A COLUNA BONITA */
.kanban-column {
    min-width: 300px;
    max-width: 300px;
    background: #f4f5f7; /* O cinza clássico de ferramentas de task */
    border-radius: 12px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    max-height: 100%;
    border: 1px solid #ebecf0;
}

/* O HEADER COLORIDO */
.column-header {
    padding: 8px 4px 12px 4px;
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    color: #172b4d;
    border-top: 4px solid transparent; /* A cor vem via JS style */
    border-radius: 4px 4px 0 0;
}

.count {
    background: rgba(0,0,0,0.08);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    color: #444;
}

/* O CORPO DA COLUNA */
.column-body {
    flex: 1;
    overflow-y: auto;
    padding-right: 4px;
    min-height: 50px; /* Garante área de drop */
}

/* SCROLLBAR CUSTOMIZADA DENTRO DA COLUNA */
.column-body::-webkit-scrollbar { width: 6px; }
.column-body::-webkit-scrollbar-thumb { background: #dcdcdc; border-radius: 4px; }

/* O CARD (RETORNANDO AO BRANCO COM SOMBRA) */
.kanban-card {
    background: #ffffff;
    padding: 12px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12); /* Sombra suave */
    margin-bottom: 10px;
    cursor: grab;
    border: 1px solid transparent;
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
}

.kanban-card:hover {
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transform: translateY(-2px);
    border-color: var(--primary);
}

.kanban-card.dragging {
    opacity: 0.5;
    background: #e3f2fd;
    border: 2px dashed var(--primary);
}

.card-tag {
    display: inline-block;
    font-size: 0.7rem;
    background: #eaeaea; /* Tag cinza neutra */
    padding: 2px 6px;
    border-radius: 4px;
    color: #555;
    margin-bottom: 6px;
    font-weight: 600;
    text-transform: uppercase;
}

.kanban-card p {
    margin: 0;
    font-size: 0.95rem;
    color: #172b4d;
    line-height: 1.4;
}

/* Ícone de Deletar (Só aparece no hover) */
.delete-card-btn {
    position: absolute;
    top: 8px; right: 8px;
    font-size: 1.1rem;
    color: #ff5252;
    opacity: 0;
    transition: opacity 0.2s;
    background: #fff;
    border-radius: 4px;
}

.kanban-card:hover .delete-card-btn { opacity: 1; }
.delete-card-btn:hover { background: #ffebee; }

.remove-col-btn {
    cursor: pointer; opacity: 0.4; transition: 0.2s;
}
.remove-col-btn:hover { opacity: 1; color: red; }

/* Responsividade Mobile */
@media (max-width: 800px) {
    .kanban-board {
        grid-template-columns: 1fr; /* Uma embaixo da outra */
        height: auto;
    }
}

/* --- TABELAS DE DADOS (DATA GRID) --- */
.table-container {
    background: #fff;
    border-radius: 12px;
    border: 1px solid #e0e0e0;
    overflow: hidden; /* Arredonda cantos da tabela */
    box-shadow: 0 4px 10px rgba(0,0,0,0.02);
}

.data-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

.data-table th {
    background: #f9fafb;
    text-align: left;
    padding: 1rem 1.5rem;
    font-weight: 600;
    color: #666;
    border-bottom: 1px solid #e0e0e0;
}

.data-table td {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid #f0f0f0;
    color: #333;
    vertical-align: middle;
}

.data-table tr:last-child td { border-bottom: none; }
.data-table tr:hover { background: #fafafa; }

/* Componentes da Tabela */
.avatar-small {
    width: 32px; height: 32px;
    background: var(--primary-light);
    color: var(--primary);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: bold; font-size: 0.9rem;
}

.badge-role {
    background: #f0f0f0;
    padding: 0.3rem 0.6rem;
    border-radius: 6px;
    font-size: 0.85rem;
    color: #555;
    font-weight: 500;
}

.badge-status {
    padding: 0.3rem 0.8rem;
    border-radius: 50px;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
}

.btn-icon-small {
    background: transparent;
    border: 1px solid transparent;
    cursor: pointer;
    padding: 0.3rem;
    border-radius: 6px;
    color: #888;
    transition: 0.2s;
}
.btn-icon-small:hover { background: #eee; color: #333; }
.btn-icon-small.delete:hover { background: #ffebee; color: #d32f2f; }
.btn-icon-small .material-icons-round { font-size: 1.2rem; }